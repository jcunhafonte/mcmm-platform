"use strict";function checkTransparent(){var e=!0,t=!1;$(document).ready(function(){$('nav[role="navigation"]').hasClass("navbar-transparent")&&(t=!0)}),$(document).scroll(function(){t&&$(window).width()>992&&($(this).scrollTop()>280?e&&(e=!1,$('nav[role="navigation"]').removeClass("navbar-transparent"),$('nav[role="navigation"]').addClass("navbar-white"),$(".brand-img").attr("src","../../images/logo_green.svg")):e||(e=!0,$('nav[role="navigation"]').removeClass("navbar-white"),$('nav[role="navigation"]').addClass("navbar-transparent"),$(".brand-img").attr("src","../../images/logo-w.svg")))})}function editor(){setTimeout(function(){var e=new MediumEditor(".editable-1",{placeholder:{text:"Primeiro parágrafo (Experimenta sublinhar o texto escrito)",hideOnClick:!1},toolbar:{buttons:["bold","italic","underline","anchor","quote"]},anchor:{customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Introduz um link",targetCheckbox:!1,targetCheckboxText:"Open in new window"}});e.subscribe("editableInput",function(e,t){$("#para_1_hidden").val(e.srcElement.innerText),$("#para_1_submit").val(e.srcElement.innerHTML),$("#publish-news-video").formValidation("revalidateField","para_1")})},1)}function submitNewsvideo(){var e=new FormData($("#publish-news-video")[0]);return $.ajax({url:"../../api/publicar/news_video.php",type:"POST",data:e,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",progress,!1),e},success:function(e){$("#myPleaseWait").modal("hide"),redirectNews(e)},cache:!1,contentType:!1,processData:!1}),!1}function progress(){var e=Math.round(event.loaded/event.total*100);$("#progress_bar").css("width",e+"%")}function debounce(e,t,a){var i;return function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout(function(){i=null,a||e.apply(n,o)},t),a&&!i&&e.apply(n,o)}}$(document).ready(function(){function e(){$(window).width()<992?($("#topbar").addClass("navbar-white"),$("#topbar").removeClass("navbar-transparent"),$(".brand-img").attr("src","../../images/logo_green.svg")):($("#topbar").removeClass("navbar-white"),$("#topbar").addClass("navbar-transparent"),$(".brand-img").attr("src","../../images/logo-w.svg"))}$("body").addClass(navigator.appVersion+" is-js"),e(),checkTransparent(),editor(),$(window).resize(function(){e(),checkTransparent()}),$("#topbar").scrollupbar()}),$(document).ready(function(){function e(){var e=$("body"),t=e.data("iframe.fv");t&&t.height(e.height())}$("#publish-news-video").steps({headerTag:"h2",bodyTag:"section",onStepChanged:function(t,a,i){e(),a>0?$(".actions > ul > li:first-child").attr("style",""):$(".actions > ul > li:first-child").attr("style","display:none")},onInit:function(e,t){$(".actions > ul > li:first-child").attr("style","display:none")},labels:{finish:"Concluir",next:"Seguinte",previous:"Anterior"},onStepChanging:function(e,t,a){var i=$("#publish-news-video").data("formValidation"),n=$("#publish-news-video").find('section[data-step="'+t+'"]');i.validateContainer(n);var o=i.isValidContainer(n);return o!==!1&&null!==o},onFinishing:function(e,t){var a=$("#publish-news-video").data("formValidation"),i=$("#publish-news-video").find('section[data-step="'+t+'"]');a.validateContainer(i);var n=a.isValidContainer(i);return n!==!1&&null!==n},onFinished:function(e,t){submitNewsvideo(),$("#myPleaseWait").modal("show"),e.preventDefault()}}).formValidation({framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{titulo:{validators:{notEmpty:{message:"Necessitas de inserir o título"},stringLength:{min:6,max:22,message:"O título deve possuir entre 6 e 22 caracteres"}}},tema:{validators:{notEmpty:{message:"Necessitas de inserir um tema"},stringLength:{min:3,max:16,message:"O tema deve possuir entre 3 e 16 caracteres"}}},video:{validators:{notEmpty:{message:"Necessitas de inserir um vídeo"},file:{extension:"mp4,webm,flv",type:"video/mp4,video/webm,video/x-flv",message:"Os formatos de vídeos suportados são MP4, WebM ou FLV e não devem exceder os 50MB",maxSize:5e7}}},para_1:{validators:{notEmpty:{message:"Necessitas de introduzir um parágrafo"}}}}}).on("success.field.fv",function(e,t){if("video"===t.field){firstTime=!1;var a=$("#my_video")[0].files[0],i=a.type,n=a.name,o=URL.createObjectURL(a);$("#label_my_video").html("Vídeo<br>"+n),jwplayer("video-upload").setup({file:o,type:i,autostart:!0})}}).on("err.field.fv",function(e,t){if(!firstTime&&"video"===t.field){$("#label_my_video").html("Vídeo<br>(MP4, WebM ou FLV)"),firstTime=!0;var a="../api/utilizadores/videos/video.mp4",i="../../images/logo_green.svg";jwplayer("video-upload").setup({image:i,file:a,controls:!1})}})});var firstTime=!0,searchVisible=0,transparent=!0,transparentDemo=!0,fixedTop=!1,navbar_initialized=!1;$(document).ready(function(){$(".ui-loader").html(" ");$(window).width();$('[data-toggle="morphing"]').each(function(){$(this).morphingButton()}),$('[rel="tooltip"]').tooltip(),0!=$(".switch").length&&$(".switch").bootstrapSwitch(),0!=$("[data-toggle='switch']").length&&$("[data-toggle='switch']").wrap('<div class="switch" />').parent().bootstrapSwitch(),0!=$(".selectpicker").length&&$(".selectpicker").selectpicker(),0!=$(".tagsinput").length&&$(".tagsinput").tagsInput(),0!=$(".tagsinput-autocomplete").length&&$(".tagsinput-autocomplete").tagsInput({autocomplete_url:[{value:"Alien",id:1},{value:"Alex",id:2},{value:"Alexander",id:3},{value:"Alejandro",id:4}]}),0!=$(".datepicker").length&&$(".datepicker").datepicker({weekStart:1,color:"{color}"}),$(".btn-tooltip").tooltip(),$(".label-tooltip").tooltip(),$(".form-control").on("focus",function(){$(this).parent(".input-group").addClass("input-group-focus")}).on("blur",function(){$(this).parent(".input-group").removeClass("input-group-focus")}),0!=$(".alert-auto-close").length&&setTimeout(function(){$(".alert-auto-close").fadeOut(function(){$(this).remove()})},5e3),demo.initPickColor(),gsdk.fitBackgroundForCards(),gsdk.initNavbarSearch(),gsdk.initPopovers(),gsdk.initCollapseArea(),gsdk.initSliders()});var gsdk={misc:{navbar_menu_visible:0},fitBackgroundForCards:function(){$(".card").each(function(){if(!$(this).hasClass("card-many")&&!$(this).hasClass("card-user")){var e=$(this).find(".image img");e.hide();var t=e.attr("src");$(this).find(".image").css({"background-image":"url('"+t+"')","background-position":"center center","background-size":"cover"})}})},initPopovers:function(){0!=$('[data-toggle="popover"]').length&&($("body").append('<div class="popover-filter"></div>'),$('[data-toggle="popover"]').popover().on("show.bs.popover",function(){$(".popover-filter").click(function(){$(this).removeClass("in"),$('[data-toggle="popover"]').popover("hide")}),$(".popover-filter").addClass("in")}).on("hide.bs.popover",function(){$(".popover-filter").removeClass("in")}))},initCollapseArea:function(){$('[data-toggle="gsdk-collapse"]').each(function(){var e=$(this).attr("data-target");$(e).addClass("gsdk-collapse")}),$('[data-toggle="gsdk-collapse"]').hover(function(){var e=$(this).attr("data-target");$(this).hasClass("state-open")||($(this).addClass("state-hover"),$(e).css({height:"30px"}))},function(){var e=$(this).attr("data-target");$(this).removeClass("state-hover"),$(this).hasClass("state-open")||$(e).css({height:"0px"})}).click(function(e){e.preventDefault();var t=$(this).attr("data-target"),a=$(t).children(".panel-body").height();$(this).hasClass("state-open")?($(t).css({height:"0px"}),$(this).removeClass("state-open")):($(t).css({height:a+30}),$(this).addClass("state-open"))})},initSliders:function(){0!=$("#slider-range").length&&$("#slider-range").slider({range:!0,min:0,max:500,values:[75,300]}),0!=$("#refine-price-range").length&&$("#refine-price-range").slider({range:!0,min:0,max:999,values:[100,850],slide:function(e,t){var a=t.values[0],i=t.values[1];$(this).siblings(".price-left").html("&euro; "+a),$(this).siblings(".price-right").html("&euro; "+i)}}),0==$("#slider-default").length&&0==$("#slider-default2").length||$("#slider-default, #slider-default2").slider({value:70,orientation:"horizontal",range:"min",animate:!0})},initNavbarSearch:function(){$('[data-toggle="search"]').click(function(){0==searchVisible?(searchVisible=1,$(this).parent().addClass("active"),$(".navbar-search-form").fadeIn(function(){$(".navbar-search-form input").focus()})):(searchVisible=0,$(this).parent().removeClass("active"),$(this).blur(),$(".navbar-search-form").fadeOut(function(){$(".navbar-search-form input").blur()}))})}},demo={initPickColor:function(){$(".pick-class-label").click(function(){var e=$(this).attr("new-class"),t=$("#display-buttons").attr("data-class"),a=$("#display-buttons");if(a.length){var i=a.find(".btn");i.removeClass(t),i.addClass(e),a.attr("data-class",e)}})}},examples={initContactUsMap:function(){var e=new google.maps.LatLng(44.43353,26.093928),t={zoom:14,center:e,scrollwheel:!1},a=new google.maps.Map(document.getElementById("contactUsMap"),t),i=new google.maps.Marker({position:e,title:"Hello World!"});i.setMap(a)}};NProgress.configure({showSpinner:!1}),$(window).load(function(){NProgress.done()}),$(document).ready(function(){NProgress.start()});